<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Đặt hàng thành công</title>
  <link rel="stylesheet" href="assets/css/order.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="./assets/themify-icons-font/themify-icons/themify-icons.css">
</head>
<body>
    <div id="app">
        <!-- HEADER -->
        

        <!-- ORDER CONTENT -->
        <div class="order-container">
          <h2>Cảm ơn bạn đã đặt hàng</h2>

        <div class="order-info">
          <p><strong>Mã đơn hàng:</strong> #<span id="order-id">ORDER1234</span></p>
          <p><strong>Thời gian giao hàng dự kiến:</strong> 30 - 45 phút</p>
        </div>

        <div class="order-details">
          <table>
            <thead>
              <tr>
                <th>Món ăn</th>
                <th>Số lượng</th>
                <th>Đơn giá</th>
                <th>Thành tiền</th>
              </tr>
            </thead>
            <tbody id="order-table-body">
              <!-- Các dòng dữ liệu được thêm bằng JS -->
            </tbody>
          </table>
          <div class="total">
            Tổng cộng: <span id="total">0đ</span>
          </div>
        </div>

        <div class="buttons">
          <button class="btn" onclick="window.location.href='index.html'">
            Tiếp tục mua hàng
          </button>
          <button class="btn" onclick="window.location.href='history.html'">
            Xem lịch sử đơn hàng
          </button>
        </div>
      </div>

    </div>

    <script>
      // Lấy order_id từ URL
      const params = new URLSearchParams(window.location.search);
      const orderId = params.get("order_id") || "N/A";
      document.getElementById("order-id").textContent = orderId;

      // Mock dữ liệu đơn hàng (tạm thời để test)
      const orderData = [
      
        { name: "Hamburger Bò", quantity: 2, price: 45000 },
        { name: "Khoai tây chiên", quantity: 1, price: 25000 },
        { name: "Pepsi lon", quantity: 3, price: 12000 }
      ];

      const tbody = document.getElementById("order-table-body");
      const totalEl = document.getElementById("total");
      let total = 0;

      orderData.forEach(item => {
        const row = document.createElement("tr");
        const itemTotal = item.quantity * item.price;
        total += itemTotal;

        row.innerHTML = `
          <td>${item.name}</td>
          <td>${item.quantity}</td>
          <td>${item.price.toLocaleString()}đ</td>
          <td>${itemTotal.toLocaleString()}đ</td>
        `;
        tbody.appendChild(row);
      });

      totalEl.innerText = total.toLocaleString() + "đ";
    </script>       
</body>
</html>